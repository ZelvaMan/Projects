@using ProductsManager.Models

@{
	ViewData["Title"] = "Order History";
	Layout = "_Layout";
	int startposition = ViewBag.start;
}

<h2>OrdersWithoutCanceled History</h2>
<table class="table table-striped table-sm">
	<thead>
		<tr>
			<th>Order Id</th>
			<th> number of products</th>
			<th> more info</th>
		</tr>
	</thead>
	<tbody>
		@foreach (Order o in ViewBag.orders)
		{
			<tr>
				<td>@o.orderId</td>
				<td>@o.NumberOfProducts</td>
				<td>
					<a asp-controller="Home" asp-action="ShowOrderInfo" asp-route-orderId="@o.orderId"><button class="btn btn-primary">More info</button></a>
				</td>
			</tr>
		}
	</tbody>

</table>
<div class="row text-center">
	<div class="col">
	<a class="nav-link" asp-controller="Home" asp-action="ShowOrderHistory" asp-route-startingPosition="0"><button class="btn btn-primary"><i class="fas fa-angle-double-left"></i> </button></a>
</div><div class="col">
	@if (startposition >= 5)
	{
		<a class="nav-link" asp-controller="Home" asp-action="ShowOrderHistory" asp-route-startingPosition="@(startposition - 5)"><button class="btn btn-primary"><i class="fas fa-angle-left"></i></button></a>

	}
</div><div class="col">
	@if (ViewBag.last != startposition)
	{

		<a class="nav-link" asp-controller="Home" asp-action="ShowOrderHistory" asp-route-startingPosition="@(startposition + 5)"><button class="btn btn-primary"><i class="fas fa-angle-right"></i> </button></a>
	}
</div><div class="col">
	<a class="nav-link" asp-controller="Home" asp-action="ShowOrderHistory" asp-route-startingPosition="@ViewBag.last"><button class="btn btn-primary"><i class="fas fa-angle-double-right"></i> </button></a>
</div>
</div>
<!--<form>
	<input type="checkbox" onChange="this.form.submit()" name="ShowCanceled"/>
</form> -->
